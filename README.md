# 🎮 نظام إدارة زبائن مدينة الألعاب

نظام إدارة متكامل لمدينة الألعاب مبني باستخدام Next.js 14، TypeScript، وTailwind CSS مع واجهة عربية كاملة.

## ✨ المميزات

### 🔐 نظام المصادقة والمستخدمين
- نظام تسجيل دخول آمن للمستخدمين
- دعم أدوار متعددة (مدير، موظف استقبال)
- **إدارة مستخدمين غير محدودة** - أضف أي عدد من الحسابات
- إضافة/تعديل/حذف المستخدمين (للمديرين فقط)
- كلمات مرور مشفرة (bcrypt)
- حماية الصفحات حسب الصلاحيات
- شاشات تحميل سلسة بدون رعشة
- تتبع عمليات كل موظف

### 💰 إدارة الدخول
- تسجيل دخول الزبائن بسهولة
- حساب تلقائي للمبالغ
- سعر قابل للتعديل من قبل المديرين
- عداد تسلسلي يتصفر يومياً

### 📄 طباعة الوصولات
- طباعة وصولات احترافية
- دعم الطابعات الحرارية
- معلومات كاملة (رقم تسلسلي، تاريخ، وقت، موظف، مبالغ)

### 📊 التقارير والإحصائيات
- تقارير يومية شاملة
- تقارير شهرية مفصلة
- رسوم بيانية تفاعلية
- تصدير إلى PDF و Excel

### 🎨 واجهة المستخدم
- تصميم عصري ومتجاوب
- دعم كامل للغة العربية (RTL)
- خط IBM Plex Sans Arabic للنصوص العربية
- ألوان وتصاميم احترافية
- تجربة مستخدم سلسة

## 🚀 البدء

### المتطلبات
- Node.js 18+ 
- MySQL 8.0+
- npm أو yarn

### التثبيت

#### 1. تثبيت المكتبات:
```bash
npm install
```

#### 2. إعداد قاعدة البيانات MySQL:

أنشئ قاعدة بيانات MySQL:
```sql
CREATE DATABASE gamescity CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
```

#### 3. تكوين ملف البيئة:

أنشئ ملف `.env` في جذر المشروع:
```env
DATABASE_URL="mysql://root:YOUR_PASSWORD@localhost:3306/gamescity"
NEXTAUTH_SECRET="your-random-secret-key"
NEXTAUTH_URL="http://localhost:3000"
```

#### 4. إعداد Prisma وملء البيانات:
```bash
# توليد Prisma Client
npm run db:generate

# إنشاء الجداول
npm run db:push

# ملء البيانات الأولية
npm run db:seed
```

#### 5. تشغيل السيرفر:
```bash
npm run dev
```

#### 6. افتح المتصفح على:
```
http://localhost:3000
```

📘 **للمزيد من التفاصيل:** راجع [دليل إعداد قاعدة البيانات](./DATABASE_SETUP.md)

---

## 👤 حسابات تجريبية

بعد تشغيل `npm run db:seed`:

### حساب المدير
- اسم المستخدم: `admin`
- كلمة المرور: `admin`

### حساب موظف الاستقبال 1
- اسم المستخدم: `reception1`
- كلمة المرور: `reception1`

### حساب موظف الاستقبال 2
- اسم المستخدم: `reception2`
- كلمة المرور: `reception2`

## 📱 صفحات النظام

### 1. الصفحة الرئيسية (Dashboard)
- نموذج إدخال الزبائن
- إحصائيات اليوم
- آخر العمليات
- معاينة وطباعة الوصولات

### 2. إدارة المستخدمين - للمديرين فقط 👥
- عرض جميع المستخدمين
- **إضافة مستخدمين جدد بدون حد**
- تعديل بيانات المستخدمين
- حذف المستخدمين
- تتبع عمليات كل موظف
- إحصائيات المستخدمين

### 3. الإعدادات (Settings) - للمديرين فقط
- تعديل سعر الدخول
- تحديث معلومات المنشأة
- إضافة شعار

### 4. التقرير اليومي
- ملخص عمليات اليوم
- جدول تفصيلي بالعمليات
- رسم بياني توزيع الزبائن حسب الساعة
- تصدير PDF و Excel

### 5. التقرير الشهري
- ملخص الشهر الكامل
- إحصائيات مفصلة
- رسوم بيانية للإيرادات والزبائن
- مقارنات يومية

## 🛠️ التقنيات المستخدمة

- **Frontend Framework**: Next.js 14 (App Router)
- **Language**: TypeScript
- **Styling**: Tailwind CSS
- **Font**: IBM Plex Sans Arabic (Google Fonts)
- **Database**: MySQL 8.0
- **ORM**: Prisma
- **Authentication**: Custom Auth with bcryptjs
- **Charts**: Recharts
- **PDF Export**: jsPDF
- **Excel Export**: XLSX
- **Icons**: Lucide React
- **Date Handling**: date-fns
- **Validation**: Zod

## 📊 قاعدة البيانات

النظام يستخدم قاعدة بيانات MySQL مع Prisma ORM:

### الجداول الرئيسية:
- **users**: المستخدمون والأدمنات
- **entries**: عمليات الدخول
- **settings**: الإعدادات (السعر، اسم المنشأة)
- **daily_resets**: تتبع الرقم التسلسلي اليومي

### البيانات الأولية:
بعد تشغيل `npm run db:seed`:
- ✅ 3 مستخدمين (admin, reception1, reception2)
- ✅ إعدادات افتراضية
- ✅ 15 عملية تجريبية لليوم الحالي

### أدوات مفيدة:
```bash
# عرض البيانات في واجهة رسومية
npm run db:studio

# إعادة ملء البيانات
npm run db:seed
```

## 📝 الملاحظات

- جميع الأسعار بالريال السعودي
- النظام يدعم RTL كاملاً
- الطباعة محسّنة للطابعات الحرارية
- التصدير يدعم اللغة العربية

## 🤝 المساهمة

هذا مشروع تجريبي للعرض التوضيحي. لأي استفسارات أو تحسينات، يمكنك التواصل.

## 📄 الترخيص

MIT License

---

صُنع بـ ❤️ لمدينة الألعاب الترفيهية

